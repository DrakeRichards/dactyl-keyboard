key-clusters:
  main:
    matrix-columns: 
    - rows-above-home: 2
      rows-below-home: 1
    - rows-above-home: 2
      rows-below-home: 1
    - rows-above-home: 2
      rows-below-home: 2
    - rows-above-home: 2
      rows-below-home: 2
    - rows-above-home: 2
      rows-below-home: 1
    - rows-above-home: 2
      rows-below-home: 1
    style: standard
    aliases: 
      lower-left: [first, first]
      upper-left: [first, last]
      lower-right: [last, first]
      upper-right: [last, last]
      i0a: [0, first]
      i1a: [0, 0]
      i2a: [0, 1]
      i3a: [0, 2]
      i0b: [1, first]
      iHome: [1, 0]
      m0: [2, first]
      r0: [3, first]
      p0a: [4, first]
      p0b: [5, first]
    anchoring:
      anchor: origin
      intrinsic-offset: [0, 0, 50]
      intrinsic-rotation: [0, 0.7, 0]
      preserve-orientation: true
  thumb:
    anchoring:
      anchor: iHome
      intrinsic-rotation: [0, -1.4, 0.5]
      extrinsic-offset: [-25, -40, -35]
      preserve-orientation: true
    matrix-columns:
    - rows-above-home: 1
    - rows-above-home: 1
    - rows-above-home: 1
    aliases:
      ttl: [last, last]
      ttr: [last, first]
      tml: [1, last]
      tmr: [1, first]
      tbl: [first, last]
      tbr: [first, first]
by-key:
  parameters:
    channel:
      height: 20
      top-width: 18
  clusters:
    main:
      parameters:
        layout:
          matrix:
            neutral:
              column: 2
      columns:
        "0":
          parameters:
            layout:
              matrix:
                separation:
                  row: 0.7
                  column: 1.0
              pitch:
                progressive: 0.4
              roll:
                intrinsic: 0.3
              translation: 
                mid: [0, -2, 9]
          rows:
            last:
              sides:
                west:
                  parameters:
                    wall:
                      extent: 5
                      to-ground: true
            "1":
              sides:
                west:
                  parameters:
                    wall:
                      extent: 5
                      to-ground: true
            "0":
              sides:
                west:
                  parameters:
                    wall:
                      extent: 5
            "-1":
              sides:
                west:
                  parameters:
                    wall:
                      extent: 5
                south:
                  parameters:
                    wall:
                      extent: 5
        "1":
          parameters:
            layout:
              matrix:
                separation:
                  row: 2.0
              pitch:
                progressive: 0.4
              translation: 
                early: [0, 0, 5]
        "2":
          parameters:
            layout:
              matrix:
                separation:
                  row: 0.1
              pitch:
                progressive: 0.4
                intrinsic: 0.1
              translation: 
                early: [0, 9, 0]
          rows:
            "-2":
              parameters:
                layout:
                  translation:
                    mid: [0, -0.2, 0]
          sides:
            south:
              parameters:
                wall:
                  extent: 5
                  to-ground: true
        "3":
          parameters:
            layout:
              matrix:
                separation:
                  row: 1.8
              pitch:
                progressive: 0.37
              translation: 
                early: [0, 2, 5]
          sides:
            south:
              parameters:
                wall:
                  extent: 2
                  to-ground: true
        "4":
          parameters:
            layout:
              matrix:
                separation:
                  row: 0.0
              pitch:
                progressive: 0.45
              translation: 
                mid: [3, -15, 10]
        "5":
          parameters:
            layout:
              matrix:
                separation:
                  row: 1.2
                  column: 1.3
              roll:
                intrinsic: -0.40
              pitch:
                progressive: 0.45
              translation: 
                mid: [5.5, -16, 17]
          sides:
            east:
              parameters:
                wall:
                  extent: 5
                  thickness: 3
                  to-ground: true
                  parallel: 3
                  bevel: 5
                  perpendicular: 5
            south:
              parameters:
                wall:
                  to-ground: true
                  extent: 5
                  parallel: 5
                  bevel: 5
                  perpendicular: 3
          rows:
            "2":
              parameters:
                layout:
                  yaw:
                    intrinsic: 0.09
                  translation:
                    late: [-4.3, -1.1, 0]
      rows:
        "-2":
          parameters:
            key-style: r1
          columns:
            last:
              parameters:
                key-style: r1w
        "-1":
          parameters:
            key-style: r2
          columns:
            last:
              parameters:
                key-style: r2w
        "0":
          parameters:
            key-style: r3
          columns:
            last:
              parameters:
                key-style: r3w
        "1":
          parameters:
            key-style: r4
          columns:
            last:
              parameters:
                key-style: r4w
        "2":
          parameters:
            key-style: r5
          sides:
            north:
              parameters:
                wall:
                  extent: 5
                  to-ground: true
    thumb:
      parameters:
        layout:
          matrix:
            neutral:
              column: 1
            separation:
              column: 0.5
          roll:
            progressive: 0.3
      columns:
        "0":
          parameters:
            layout:
              pitch:
                base: 0.2
                progressive: 0.3
              yaw:
                base: 0.05
          rows:
            first:
              parameters:
                key-style: r2
            last:
              parameters:
                key-style: r4
          sides:
            west:
              parameters:
                wall:
                  extent: 1
                  to-ground: true
        "1":
          parameters:
            layout:
              translation:
                early: [0, 2, 0]
              pitch:
                progressive: 0.7
          rows:
            first:
              parameters:
                key-style: r3t
                layout:
                  translation:
                    mid: [0, -8, 0]
            last:
              parameters:
                key-style: r3
          sides:
            north:
              parameters:
                wall:
                  extent: 5
        "2":
          parameters:
            layout:
              pitch:
                base: 0.2
                progressive: 0.3
              yaw:
                base: -0.05
              translation:
                mid: [0, -3, 0]
          rows:
            first:
              parameters:
                key-style: r2
            last:
              parameters:
                key-style: r4
          sides:
            north:
              parameters:
                wall:
                  extent: 5
secondaries:
  ttm:
    anchoring:
      anchor: ttl
      side: SE
      segment: 0
      intrinsic-offset: [0, -3, 1.5]
tweaks:
  ring-to-pinky:
    - chunk-size: 3
      hull-around:
      - [r0, NE, 0]
      - [r0, SE, 0]
      - [p0a, SW, 0]
      - [r0, SE, 2]
  index-to-index:
    - chunk-size: 3
      hull-around:
      - [i0b, SW, 0]
      - [i0a, SE, 0]
      - [i0b, SE, 0]
      - [m0, SW, 0]
      - [m0, NW, 0]
    - hull-around:
      - [i0a, SE, 0, 2]
      - [m0, SW, 0, 2]
  thumb-top-to-main:
    # Connects the top of the thumb cluster to main
    - chunk-size: 3
      hull-around:
      - [i0a, NW, 2]
      - [ttl, NE, 0]
      - [i0a, SW, 2]
      - [ttl, SE, 0]
      - [ttr, NE, 0]
    - chunk-size: 3
      hull-around:
      - [i0a, SW, 2]
      - [ttr, NE, 0]
      - [i0a, SE, 2]
      - [ttr, SE, 0]
      - [m0, SW, 2]
      - [ttr, SW, 0]
      - [tmr, SE, 0]
    - at-ground: true
      hull-around:
      - [tmr, SE, 0]
      - [m0, SW, 2]
      - [tmr, SW, 0]
    - hull-around:
      - [tmr, SW, 0]
      - [tbr, SE, 0]
      - [tbr, SW, 0]
    - at-ground: true
      hull-around:
      - [tmr, SW, 0]
      - [tbr, SW, 0]
  thumb-left-to-main:
    # bottom-left finishing touches
    - chunk-size: 3
      hull-around:
      - [tml, NW, 2]
      - [i2a, SW, 2]
      - [tml, NNE, 2]
      - [i1a, NW, 2]
      - [ttl, NW, 2]
      - [i1a, SW, 2]
      - [ttl, NE, 2]
      - [i0a, NW, 2]
      - [ttl, NE, 0]
    - at-ground: true
      hull-around:
      - [i2a, SW, 2]
      - [tml, NW, 2]
    - at-ground: true
      hull-around:
      - [tml, NW, 0, 3]
    - hull-around:
      - [tml, NW, 0]
      - [tbl, NE, 0]
      - [tbl, NW, 0]
    - at-ground: true
      hull-around:
      - [tml, NW, 0, 1]
      - [tbl, NW, 0]
main-body:
  reflect: true
dfm:
  error-general: -1